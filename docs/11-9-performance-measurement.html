<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Business and Technical Analytics with R</title>
  <meta name="description" content="This is a study and reference notes to solving various business analytics problems using R.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Business and Technical Analytics with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a study and reference notes to solving various business analytics problems using R." />
  <meta name="github-repo" content="yongks/biz_tech_analytics_r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Business and Technical Analytics with R" />
  
  <meta name="twitter:description" content="This is a study and reference notes to solving various business analytics problems using R." />
  

<meta name="author" content="Yong Keh Soon">


<meta name="date" content="2017-07-22">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="11-8-svm.html">
<link rel="next" href="12-survival-analysis.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Business and Technical Analytics /R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="1-fundamentals.html"><a href="1-fundamentals.html"><i class="fa fa-check"></i><b>1</b> R Fundamentals</a><ul>
<li class="chapter" data-level="1.1" data-path="1-1-package-management.html"><a href="1-1-package-management.html"><i class="fa fa-check"></i><b>1.1</b> Package Management</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-1-package-management.html"><a href="1-1-package-management.html#package-storage"><i class="fa fa-check"></i><b>1.1.1</b> Package Storage</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-1-package-management.html"><a href="1-1-package-management.html#package-listing"><i class="fa fa-check"></i><b>1.1.2</b> Package Listing</a></li>
<li class="chapter" data-level="1.1.3" data-path="1-1-package-management.html"><a href="1-1-package-management.html#package-install-removal"><i class="fa fa-check"></i><b>1.1.3</b> Package Install / Removal</a></li>
<li class="chapter" data-level="1.1.4" data-path="1-1-package-management.html"><a href="1-1-package-management.html#package-update"><i class="fa fa-check"></i><b>1.1.4</b> Package Update</a></li>
<li class="chapter" data-level="1.1.5" data-path="1-1-package-management.html"><a href="1-1-package-management.html#package-corruption"><i class="fa fa-check"></i><b>1.1.5</b> Package Corruption</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-2-string.html"><a href="1-2-string.html"><i class="fa fa-check"></i><b>1.2</b> String</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-2-string.html"><a href="1-2-string.html#library"><i class="fa fa-check"></i><b>1.2.1</b> Library</a></li>
<li class="chapter" data-level="1.2.2" data-path="1-2-string.html"><a href="1-2-string.html#concatenating"><i class="fa fa-check"></i><b>1.2.2</b> Concatenating</a></li>
<li class="chapter" data-level="1.2.3" data-path="1-2-string.html"><a href="1-2-string.html#parsing"><i class="fa fa-check"></i><b>1.2.3</b> Parsing</a></li>
<li class="chapter" data-level="1.2.4" data-path="1-2-string.html"><a href="1-2-string.html#formating"><i class="fa fa-check"></i><b>1.2.4</b> Formating</a></li>
<li class="chapter" data-level="1.2.5" data-path="1-2-string.html"><a href="1-2-string.html#statistics"><i class="fa fa-check"></i><b>1.2.5</b> Statistics</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-3-set-operation.html"><a href="1-3-set-operation.html"><i class="fa fa-check"></i><b>1.3</b> Set Operation</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-3-set-operation.html"><a href="1-3-set-operation.html#library-1"><i class="fa fa-check"></i><b>1.3.1</b> Library</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-3-set-operation.html"><a href="1-3-set-operation.html#set-equality"><i class="fa fa-check"></i><b>1.3.2</b> Set Equality</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-3-set-operation.html"><a href="1-3-set-operation.html#exact-equality"><i class="fa fa-check"></i><b>1.3.3</b> Exact Equality</a></li>
<li class="chapter" data-level="1.3.4" data-path="1-3-set-operation.html"><a href="1-3-set-operation.html#element-contained"><i class="fa fa-check"></i><b>1.3.4</b> Element Contained</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-4-loops.html"><a href="1-4-loops.html"><i class="fa fa-check"></i><b>1.4</b> Loops</a><ul>
<li class="chapter" data-level="1.4.1" data-path="1-4-loops.html"><a href="1-4-loops.html#sample-data-1"><i class="fa fa-check"></i><b>1.4.1</b> Sample Data</a></li>
<li class="chapter" data-level="1.4.2" data-path="1-4-loops.html"><a href="1-4-loops.html#loop-through-a-vector"><i class="fa fa-check"></i><b>1.4.2</b> Loop Through A Vector</a></li>
<li class="chapter" data-level="1.4.3" data-path="1-4-loops.html"><a href="1-4-loops.html#loop-through-multiple-columnsrows"><i class="fa fa-check"></i><b>1.4.3</b> Loop Through Multiple Columns/Rows</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="1-5-data-import.html"><a href="1-5-data-import.html"><i class="fa fa-check"></i><b>1.5</b> Data Import</a><ul>
<li class="chapter" data-level="1.5.1" data-path="1-5-data-import.html"><a href="1-5-data-import.html#data-import-performance"><i class="fa fa-check"></i><b>1.5.1</b> Data Import Performance</a></li>
<li class="chapter" data-level="1.5.2" data-path="1-5-data-import.html"><a href="1-5-data-import.html#what-to-choose"><i class="fa fa-check"></i><b>1.5.2</b> What To Choose</a></li>
<li class="chapter" data-level="1.5.3" data-path="1-5-data-import.html"><a href="1-5-data-import.html#working-directory"><i class="fa fa-check"></i><b>1.5.3</b> Working Directory</a></li>
<li class="chapter" data-level="1.5.4" data-path="1-5-data-import.html"><a href="1-5-data-import.html#sample-data-file"><i class="fa fa-check"></i><b>1.5.4</b> Sample Data File</a></li>
<li class="chapter" data-level="1.5.5" data-path="1-5-data-import.html"><a href="1-5-data-import.html#baseread.csv"><i class="fa fa-check"></i><b>1.5.5</b> Base::read.csv</a></li>
<li class="chapter" data-level="1.5.6" data-path="1-5-data-import.html"><a href="1-5-data-import.html#data.tablefread"><i class="fa fa-check"></i><b>1.5.6</b> data.table::fread</a></li>
<li class="chapter" data-level="1.5.7" data-path="1-5-data-import.html"><a href="1-5-data-import.html#readrread_csv"><i class="fa fa-check"></i><b>1.5.7</b> readr::read_csv</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-data-generation.html"><a href="2-data-generation.html"><i class="fa fa-check"></i><b>2</b> Data Generation</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-sequential-number.html"><a href="2-1-sequential-number.html"><i class="fa fa-check"></i><b>2.1</b> Sequential Number</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-1-sequential-number.html"><a href="2-1-sequential-number.html#using-return-vector"><i class="fa fa-check"></i><b>2.1.1</b> Using <code>:</code> : return vector</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-1-sequential-number.html"><a href="2-1-sequential-number.html#using-seq-return-vector"><i class="fa fa-check"></i><b>2.1.2</b> Using <code>seq</code> : return vector</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-2-random-number.html"><a href="2-2-random-number.html"><i class="fa fa-check"></i><b>2.2</b> Random Number</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-2-random-number.html"><a href="2-2-random-number.html#unified-distribution"><i class="fa fa-check"></i><b>2.2.1</b> Unified Distribution</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-2-random-number.html"><a href="2-2-random-number.html#normal-distribution"><i class="fa fa-check"></i><b>2.2.2</b> Normal Distribution</a></li>
<li class="chapter" data-level="2.2.3" data-path="2-2-random-number.html"><a href="2-2-random-number.html#binomial-distribution"><i class="fa fa-check"></i><b>2.2.3</b> Binomial Distribution</a></li>
<li class="chapter" data-level="2.2.4" data-path="2-2-random-number.html"><a href="2-2-random-number.html#beta-distribution"><i class="fa fa-check"></i><b>2.2.4</b> Beta Distribution</a></li>
<li class="chapter" data-level="2.2.5" data-path="2-2-random-number.html"><a href="2-2-random-number.html#drawing-from-a-bag"><i class="fa fa-check"></i><b>2.2.5</b> Drawing From A Bag</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-factor.html"><a href="2-3-factor.html"><i class="fa fa-check"></i><b>2.3</b> Factor</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-data-simulation.html"><a href="3-data-simulation.html"><i class="fa fa-check"></i><b>3</b> Data Simulation</a><ul>
<li class="chapter" data-level="3.1" data-path="3-1-linear-simulation.html"><a href="3-1-linear-simulation.html"><i class="fa fa-check"></i><b>3.1</b> Linear Simulation</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-1-linear-simulation.html"><a href="3-1-linear-simulation.html#example-of-random-normal-x"><i class="fa fa-check"></i><b>3.1.1</b> Example of Random Normal X</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-1-linear-simulation.html"><a href="3-1-linear-simulation.html#example-of-sequantial-x-non-random"><i class="fa fa-check"></i><b>3.1.2</b> Example of Sequantial X (non-random)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-2-logarithm-simulation.html"><a href="3-2-logarithm-simulation.html"><i class="fa fa-check"></i><b>3.2</b> Logarithm Simulation</a></li>
<li class="chapter" data-level="3.3" data-path="3-3-parabola-simulation.html"><a href="3-3-parabola-simulation.html"><i class="fa fa-check"></i><b>3.3</b> Parabola Simulation</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-3-parabola-simulation.html"><a href="3-3-parabola-simulation.html#example-of-random-normal-x-1"><i class="fa fa-check"></i><b>3.3.1</b> Example of Random Normal X</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-3-parabola-simulation.html"><a href="3-3-parabola-simulation.html#example-of-sequantial-x-non-random-1"><i class="fa fa-check"></i><b>3.3.2</b> Example of Sequantial X (non-random)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-4-polynomial-simulation.html"><a href="3-4-polynomial-simulation.html"><i class="fa fa-check"></i><b>3.4</b> Polynomial Simulation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data-summarization.html"><a href="4-data-summarization.html"><i class="fa fa-check"></i><b>4</b> Data Summarization</a><ul>
<li class="chapter" data-level="4.1" data-path="4-1-library-2.html"><a href="4-1-library-2.html"><i class="fa fa-check"></i><b>4.1</b> Library</a></li>
<li class="chapter" data-level="4.2" data-path="4-2-sample-data-2.html"><a href="4-2-sample-data-2.html"><i class="fa fa-check"></i><b>4.2</b> Sample Data</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html"><i class="fa fa-check"></i><b>4.3</b> Frequency Table</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#single-dimension-data"><i class="fa fa-check"></i><b>4.3.1</b> Single Dimension Data</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#two-dimension-data"><i class="fa fa-check"></i><b>4.3.2</b> Two Dimension Data</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#three-dimension-data"><i class="fa fa-check"></i><b>4.3.3</b> Three Dimension Data</a></li>
<li class="chapter" data-level="4.3.4" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#four-dimension-data"><i class="fa fa-check"></i><b>4.3.4</b> Four Dimension Data</a></li>
<li class="chapter" data-level="4.3.5" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#making-table-proportion"><i class="fa fa-check"></i><b>4.3.5</b> Making Table Proportion</a></li>
<li class="chapter" data-level="4.3.6" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#adding-margin-info-to-table"><i class="fa fa-check"></i><b>4.3.6</b> Adding Margin Info To Table</a></li>
<li class="chapter" data-level="4.3.7" data-path="4-3-frequency-table.html"><a href="4-3-frequency-table.html#proportion-table-with-margin"><i class="fa fa-check"></i><b>4.3.7</b> Proportion Table with Margin</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-4-data-aggregation.html"><a href="4-4-data-aggregation.html"><i class="fa fa-check"></i><b>4.4</b> Data Aggregation</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-4-data-aggregation.html"><a href="4-4-data-aggregation.html#tapply"><i class="fa fa-check"></i><b>4.4.1</b> tapply</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-4-data-aggregation.html"><a href="4-4-data-aggregation.html#aggretate---base-r"><i class="fa fa-check"></i><b>4.4.2</b> aggretate - base R</a></li>
<li class="chapter" data-level="4.4.3" data-path="4-4-data-aggregation.html"><a href="4-4-data-aggregation.html#dplyrgrouping-and-summarizing"><i class="fa fa-check"></i><b>4.4.3</b> dplyr::Grouping and Summarizing</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-5-r-with-sql-emulation.html"><a href="4-5-r-with-sql-emulation.html"><i class="fa fa-check"></i><b>4.5</b> R with SQL Emulation</a><ul>
<li class="chapter" data-level="4.5.1" data-path="4-5-r-with-sql-emulation.html"><a href="4-5-r-with-sql-emulation.html#library-3"><i class="fa fa-check"></i><b>4.5.1</b> Library</a></li>
<li class="chapter" data-level="4.5.2" data-path="4-5-r-with-sql-emulation.html"><a href="4-5-r-with-sql-emulation.html#run-the-code"><i class="fa fa-check"></i><b>4.5.2</b> Run The Code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-data-preprocessing.html"><a href="5-data-preprocessing.html"><i class="fa fa-check"></i><b>5</b> Data Preprocessing</a><ul>
<li class="chapter" data-level="5.1" data-path="5-1-library-4.html"><a href="5-1-library-4.html"><i class="fa fa-check"></i><b>5.1</b> Library</a></li>
<li class="chapter" data-level="5.2" data-path="5-2-sample-data-3.html"><a href="5-2-sample-data-3.html"><i class="fa fa-check"></i><b>5.2</b> Sample Data</a></li>
<li class="chapter" data-level="5.3" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html"><i class="fa fa-check"></i><b>5.3</b> Column Manipulation</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html#duplicating-columns"><i class="fa fa-check"></i><b>5.3.1</b> Duplicating Columns</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html#delete-columns"><i class="fa fa-check"></i><b>5.3.2</b> Delete Columns</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html#renaming-columns"><i class="fa fa-check"></i><b>5.3.3</b> Renaming Columns</a></li>
<li class="chapter" data-level="5.3.4" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html#columns-selection"><i class="fa fa-check"></i><b>5.3.4</b> Columns Selection</a></li>
<li class="chapter" data-level="5.3.5" data-path="5-3-column-manipulation.html"><a href="5-3-column-manipulation.html#create-new-columns"><i class="fa fa-check"></i><b>5.3.5</b> Create New Columns</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-4-missing-data.html"><a href="5-4-missing-data.html"><i class="fa fa-check"></i><b>5.4</b> Missing Data</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-4-missing-data.html"><a href="5-4-missing-data.html#detecting-completeincomplete-vectorrow"><i class="fa fa-check"></i><b>5.4.1</b> Detecting Complete/Incomplete Vector/Row</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-4-missing-data.html"><a href="5-4-missing-data.html#removing-missing-data"><i class="fa fa-check"></i><b>5.4.2</b> Removing Missing Data <NA></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-5-merging-data.html"><a href="5-5-merging-data.html"><i class="fa fa-check"></i><b>5.5</b> Merging Data</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-5-merging-data.html"><a href="5-5-merging-data.html#joining-columns"><i class="fa fa-check"></i><b>5.5.1</b> Joining Columns</a></li>
<li class="chapter" data-level="5.5.2" data-path="5-5-merging-data.html"><a href="5-5-merging-data.html#joining-rows-set-operation"><i class="fa fa-check"></i><b>5.5.2</b> Joining Rows: Set Operation</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="5-6-categorical-data.html"><a href="5-6-categorical-data.html"><i class="fa fa-check"></i><b>5.6</b> Categorical Data</a><ul>
<li class="chapter" data-level="5.6.1" data-path="5-6-categorical-data.html"><a href="5-6-categorical-data.html#converting-to-factor"><i class="fa fa-check"></i><b>5.6.1</b> Converting to Factor</a></li>
<li class="chapter" data-level="5.6.2" data-path="5-6-categorical-data.html"><a href="5-6-categorical-data.html#releveling-factor"><i class="fa fa-check"></i><b>5.6.2</b> Releveling Factor</a></li>
<li class="chapter" data-level="5.6.3" data-path="5-6-categorical-data.html"><a href="5-6-categorical-data.html#dropping-levels"><i class="fa fa-check"></i><b>5.6.3</b> Dropping Levels</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="5-7-string-manipulation.html"><a href="5-7-string-manipulation.html"><i class="fa fa-check"></i><b>5.7</b> String Manipulation</a><ul>
<li class="chapter" data-level="5.7.1" data-path="5-7-string-manipulation.html"><a href="5-7-string-manipulation.html#extration"><i class="fa fa-check"></i><b>5.7.1</b> Extration</a></li>
<li class="chapter" data-level="5.7.2" data-path="5-7-string-manipulation.html"><a href="5-7-string-manipulation.html#removal"><i class="fa fa-check"></i><b>5.7.2</b> Removal</a></li>
<li class="chapter" data-level="5.7.3" data-path="5-7-string-manipulation.html"><a href="5-7-string-manipulation.html#concatenation"><i class="fa fa-check"></i><b>5.7.3</b> Concatenation</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html"><i class="fa fa-check"></i><b>5.8</b> Date Manipulation</a><ul>
<li class="chapter" data-level="5.8.1" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html#parsing-date"><i class="fa fa-check"></i><b>5.8.1</b> Parsing Date</a></li>
<li class="chapter" data-level="5.8.2" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html#what-daymonthyear"><i class="fa fa-check"></i><b>5.8.2</b> What Day/Month/Year</a></li>
<li class="chapter" data-level="5.8.3" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html#daysmonthsyear-difference"><i class="fa fa-check"></i><b>5.8.3</b> Days/Months/Year Difference</a></li>
<li class="chapter" data-level="5.8.4" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html#daysmonhtsyears-later"><i class="fa fa-check"></i><b>5.8.4</b> Days/Monhts/Years Later</a></li>
<li class="chapter" data-level="5.8.5" data-path="5-8-date-manipulation.html"><a href="5-8-date-manipulation.html#last-day-of-month"><i class="fa fa-check"></i><b>5.8.5</b> Last Day of Month</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="5-9-date-time-manipulation.html"><a href="5-9-date-time-manipulation.html"><i class="fa fa-check"></i><b>5.9</b> Date Time Manipulation</a><ul>
<li class="chapter" data-level="5.9.1" data-path="5-9-date-time-manipulation.html"><a href="5-9-date-time-manipulation.html#parsing-date-time"><i class="fa fa-check"></i><b>5.9.1</b> Parsing Date Time</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="5-10-number-manipulation.html"><a href="5-10-number-manipulation.html"><i class="fa fa-check"></i><b>5.10</b> Number Manipulation</a><ul>
<li class="chapter" data-level="5.10.1" data-path="5-10-number-manipulation.html"><a href="5-10-number-manipulation.html#sample-data-4"><i class="fa fa-check"></i><b>5.10.1</b> Sample Data</a></li>
<li class="chapter" data-level="5.10.2" data-path="5-10-number-manipulation.html"><a href="5-10-number-manipulation.html#z-score-scaling"><i class="fa fa-check"></i><b>5.10.2</b> Z-Score Scaling</a></li>
<li class="chapter" data-level="5.10.3" data-path="5-10-number-manipulation.html"><a href="5-10-number-manipulation.html#min-max-scaling"><i class="fa fa-check"></i><b>5.10.3</b> Min Max Scaling</a></li>
<li class="chapter" data-level="5.10.4" data-path="5-10-number-manipulation.html"><a href="5-10-number-manipulation.html#transformation-model"><i class="fa fa-check"></i><b>5.10.4</b> Transformation Model</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="5-11-artificial-grouping.html"><a href="5-11-artificial-grouping.html"><i class="fa fa-check"></i><b>5.11</b> Artificial Grouping</a><ul>
<li class="chapter" data-level="5.11.1" data-path="5-11-artificial-grouping.html"><a href="5-11-artificial-grouping.html#grouping-with-numeric-breakpoints"><i class="fa fa-check"></i><b>5.11.1</b> Grouping with Numeric Breakpoints</a></li>
<li class="chapter" data-level="5.11.2" data-path="5-11-artificial-grouping.html"><a href="5-11-artificial-grouping.html#grouping-based-on-custom-criteria"><i class="fa fa-check"></i><b>5.11.2</b> Grouping based on Custom Criteria</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="5-12-radom-dataset-splitting.html"><a href="5-12-radom-dataset-splitting.html"><i class="fa fa-check"></i><b>5.12</b> Radom Dataset Splitting</a><ul>
<li class="chapter" data-level="5.12.1" data-path="5-12-radom-dataset-splitting.html"><a href="5-12-radom-dataset-splitting.html#simple-random-split"><i class="fa fa-check"></i><b>5.12.1</b> Simple Random Split</a></li>
<li class="chapter" data-level="5.12.2" data-path="5-12-radom-dataset-splitting.html"><a href="5-12-radom-dataset-splitting.html#random-split-maintaining-data-value-ratio"><i class="fa fa-check"></i><b>5.12.2</b> Random Split (Maintaining Data Value Ratio)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-find-order-and-filter-data.html"><a href="6-find-order-and-filter-data.html"><i class="fa fa-check"></i><b>6</b> Find, Order and Filter Data</a><ul>
<li class="chapter" data-level="6.1" data-path="6-1-library-5.html"><a href="6-1-library-5.html"><i class="fa fa-check"></i><b>6.1</b> Library</a></li>
<li class="chapter" data-level="6.2" data-path="6-2-sample-data-5.html"><a href="6-2-sample-data-5.html"><i class="fa fa-check"></i><b>6.2</b> Sample Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-2-sample-data-5.html"><a href="6-2-sample-data-5.html#sample-data-frame"><i class="fa fa-check"></i><b>6.2.1</b> Sample Data Frame</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-2-sample-data-5.html"><a href="6-2-sample-data-5.html#sample-vector"><i class="fa fa-check"></i><b>6.2.2</b> Sample Vector</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-3-finding-data-in-vector.html"><a href="6-3-finding-data-in-vector.html"><i class="fa fa-check"></i><b>6.3</b> Finding Data in Vector</a></li>
<li class="chapter" data-level="6.4" data-path="6-4-ordering-data.html"><a href="6-4-ordering-data.html"><i class="fa fa-check"></i><b>6.4</b> Ordering Data</a><ul>
<li class="chapter" data-level="6.4.1" data-path="6-4-ordering-data.html"><a href="6-4-ordering-data.html#ordering-vector"><i class="fa fa-check"></i><b>6.4.1</b> Ordering Vector</a></li>
<li class="chapter" data-level="6.4.2" data-path="6-4-ordering-data.html"><a href="6-4-ordering-data.html#ordering-data-frame"><i class="fa fa-check"></i><b>6.4.2</b> Ordering Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="6-5-filtering-data.html"><a href="6-5-filtering-data.html"><i class="fa fa-check"></i><b>6.5</b> Filtering Data</a><ul>
<li class="chapter" data-level="6.5.1" data-path="6-5-filtering-data.html"><a href="6-5-filtering-data.html#subseting-vector"><i class="fa fa-check"></i><b>6.5.1</b> Subseting Vector</a></li>
<li class="chapter" data-level="6.5.2" data-path="6-5-filtering-data.html"><a href="6-5-filtering-data.html#subseting-data-frame"><i class="fa fa-check"></i><b>6.5.2</b> Subseting Data Frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-data-visualization.html"><a href="7-data-visualization.html"><i class="fa fa-check"></i><b>7</b> Data Visualization</a><ul>
<li class="chapter" data-level="7.1" data-path="7-1-library-6.html"><a href="7-1-library-6.html"><i class="fa fa-check"></i><b>7.1</b> Library</a></li>
<li class="chapter" data-level="7.2" data-path="7-2-sample-data-6.html"><a href="7-2-sample-data-6.html"><i class="fa fa-check"></i><b>7.2</b> Sample Data</a></li>
<li class="chapter" data-level="7.3" data-path="7-3-histogram.html"><a href="7-3-histogram.html"><i class="fa fa-check"></i><b>7.3</b> Histogram</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-3-histogram.html"><a href="7-3-histogram.html#single-dimension-data-1"><i class="fa fa-check"></i><b>7.3.1</b> Single Dimension Data</a></li>
<li class="chapter" data-level="7.3.2" data-path="7-3-histogram.html"><a href="7-3-histogram.html#two-dimension-data-1"><i class="fa fa-check"></i><b>7.3.2</b> Two Dimension Data</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html"><i class="fa fa-check"></i><b>7.4</b> Scatter Plot</a><ul>
<li class="chapter" data-level="7.4.1" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html#x-numeric"><i class="fa fa-check"></i><b>7.4.1</b> 2x Numeric</a></li>
<li class="chapter" data-level="7.4.2" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html#xnum-1x-cat"><i class="fa fa-check"></i><b>7.4.2</b> 2xNum + 1x Cat</a></li>
<li class="chapter" data-level="7.4.3" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html#xnum-1xnum-1xcat"><i class="fa fa-check"></i><b>7.4.3</b> 2xNum, 1xNum + 1xCat</a></li>
<li class="chapter" data-level="7.4.4" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html#overlay-smooth-line"><i class="fa fa-check"></i><b>7.4.4</b> Overlay Smooth Line</a></li>
<li class="chapter" data-level="7.4.5" data-path="7-4-scatter-plot.html"><a href="7-4-scatter-plot.html#other-cosmetic"><i class="fa fa-check"></i><b>7.4.5</b> Other Cosmetic</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html"><i class="fa fa-check"></i><b>7.5</b> Line Chart</a><ul>
<li class="chapter" data-level="7.5.1" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html#x-numeric-data"><i class="fa fa-check"></i><b>7.5.1</b> 2x Numeric Data</a></li>
<li class="chapter" data-level="7.5.2" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html#x-numeric-1x-categorical"><i class="fa fa-check"></i><b>7.5.2</b> 1x Numeric, 1x Categorical</a></li>
<li class="chapter" data-level="7.5.3" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html#x-numeric-2x-categorical"><i class="fa fa-check"></i><b>7.5.3</b> 1x Numeric, 2x Categorical</a></li>
<li class="chapter" data-level="7.5.4" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html#x-numeric-1x-categorical-1"><i class="fa fa-check"></i><b>7.5.4</b> 2x Numeric, 1x Categorical</a></li>
<li class="chapter" data-level="7.5.5" data-path="7-5-line-chart.html"><a href="7-5-line-chart.html#x-numeric-2x-categorical-1"><i class="fa fa-check"></i><b>7.5.5</b> 2x Numeric, 2x Categorical</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html"><i class="fa fa-check"></i><b>7.6</b> Bar Chart</a><ul>
<li class="chapter" data-level="7.6.1" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#x-categorical-data"><i class="fa fa-check"></i><b>7.6.1</b> 1x Categorical Data</a></li>
<li class="chapter" data-level="7.6.2" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#xcatgorical-1xnumeric"><i class="fa fa-check"></i><b>7.6.2</b> 1xCatgorical + 1xNumeric</a></li>
<li class="chapter" data-level="7.6.3" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#xcategorical-1xfreq"><i class="fa fa-check"></i><b>7.6.3</b> 2xCategorical + 1xFreq</a></li>
<li class="chapter" data-level="7.6.4" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#xcategorical-1xnumeric"><i class="fa fa-check"></i><b>7.6.4</b> 2xCategorical + 1xNumeric</a></li>
<li class="chapter" data-level="7.6.5" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#positioning"><i class="fa fa-check"></i><b>7.6.5</b> Positioning</a></li>
<li class="chapter" data-level="7.6.6" data-path="7-6-bar-chart.html"><a href="7-6-bar-chart.html#in-bar-text-labeling"><i class="fa fa-check"></i><b>7.6.6</b> In-Bar Text Labeling</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="7-7-pie-chart.html"><a href="7-7-pie-chart.html"><i class="fa fa-check"></i><b>7.7</b> Pie Chart</a></li>
<li class="chapter" data-level="7.8" data-path="7-8-box-plot.html"><a href="7-8-box-plot.html"><i class="fa fa-check"></i><b>7.8</b> Box Plot</a><ul>
<li class="chapter" data-level="7.8.1" data-path="7-8-box-plot.html"><a href="7-8-box-plot.html#one-dimension-data"><i class="fa fa-check"></i><b>7.8.1</b> One Dimension Data</a></li>
<li class="chapter" data-level="7.8.2" data-path="7-8-box-plot.html"><a href="7-8-box-plot.html#two-dimension-data-2"><i class="fa fa-check"></i><b>7.8.2</b> Two Dimension Data</a></li>
<li class="chapter" data-level="7.8.3" data-path="7-8-box-plot.html"><a href="7-8-box-plot.html#two-one-dimension-data"><i class="fa fa-check"></i><b>7.8.3</b> Two + One Dimension Data</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="7-9-heat-maps.html"><a href="7-9-heat-maps.html"><i class="fa fa-check"></i><b>7.9</b> Heat Maps</a><ul>
<li class="chapter" data-level="7.9.1" data-path="7-9-heat-maps.html"><a href="7-9-heat-maps.html#geom_tiles"><i class="fa fa-check"></i><b>7.9.1</b> geom_tiles</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="7-10-maps.html"><a href="7-10-maps.html"><i class="fa fa-check"></i><b>7.10</b> Maps</a></li>
<li class="chapter" data-level="7.11" data-path="7-11-side-by-side-plots.html"><a href="7-11-side-by-side-plots.html"><i class="fa fa-check"></i><b>7.11</b> Side By Side Plots</a></li>
<li class="chapter" data-level="7.12" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html"><i class="fa fa-check"></i><b>7.12</b> ggplot Customization</a><ul>
<li class="chapter" data-level="7.12.1" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html#title-subtitle-caption-and-labels"><i class="fa fa-check"></i><b>7.12.1</b> Title, Subtitle, Caption and Labels</a></li>
<li class="chapter" data-level="7.12.2" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html#axis-scale-and-ticks"><i class="fa fa-check"></i><b>7.12.2</b> Axis Scale and Ticks</a></li>
<li class="chapter" data-level="7.12.3" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html#customize-components"><i class="fa fa-check"></i><b>7.12.3</b> Customize Components</a></li>
<li class="chapter" data-level="7.12.4" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html#clearing-components"><i class="fa fa-check"></i><b>7.12.4</b> Clearing Components</a></li>
<li class="chapter" data-level="7.12.5" data-path="7-12-ggplot-customization.html"><a href="7-12-ggplot-customization.html#themes"><i class="fa fa-check"></i><b>7.12.5</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="7-13-double-y-axis-scale.html"><a href="7-13-double-y-axis-scale.html"><i class="fa fa-check"></i><b>7.13</b> Double Y-Axis Scale</a></li>
<li class="chapter" data-level="7.14" data-path="7-14-other-aesthetics.html"><a href="7-14-other-aesthetics.html"><i class="fa fa-check"></i><b>7.14</b> Other Aesthetics</a><ul>
<li class="chapter" data-level="7.14.1" data-path="7-14-other-aesthetics.html"><a href="7-14-other-aesthetics.html#point-symbols"><i class="fa fa-check"></i><b>7.14.1</b> Point Symbols</a></li>
<li class="chapter" data-level="7.14.2" data-path="7-14-other-aesthetics.html"><a href="7-14-other-aesthetics.html#line-types"><i class="fa fa-check"></i><b>7.14.2</b> Line types</a></li>
<li class="chapter" data-level="7.14.3" data-path="7-14-other-aesthetics.html"><a href="7-14-other-aesthetics.html#colors"><i class="fa fa-check"></i><b>7.14.3</b> Colors</a></li>
<li class="chapter" data-level="7.14.4" data-path="7-14-other-aesthetics.html"><a href="7-14-other-aesthetics.html#other-sources"><i class="fa fa-check"></i><b>7.14.4</b> Other Sources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-statistics-1.html"><a href="8-statistics-1.html"><i class="fa fa-check"></i><b>8</b> Statistics</a><ul>
<li class="chapter" data-level="8.1" data-path="8-1-sample-data-7.html"><a href="8-1-sample-data-7.html"><i class="fa fa-check"></i><b>8.1</b> Sample Data</a></li>
<li class="chapter" data-level="8.2" data-path="8-2-descriptive-summary.html"><a href="8-2-descriptive-summary.html"><i class="fa fa-check"></i><b>8.2</b> Descriptive Summary</a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-2-descriptive-summary.html"><a href="8-2-descriptive-summary.html#single-vector"><i class="fa fa-check"></i><b>8.2.1</b> Single Vector</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-2-descriptive-summary.html"><a href="8-2-descriptive-summary.html#multiple-vectors"><i class="fa fa-check"></i><b>8.2.2</b> Multiple Vectors</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-2-descriptive-summary.html"><a href="8-2-descriptive-summary.html#custom-function"><i class="fa fa-check"></i><b>8.2.3</b> Custom Function</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-3-t-test.html"><a href="8-3-t-test.html"><i class="fa fa-check"></i><b>8.3</b> T-Test</a></li>
<li class="chapter" data-level="8.4" data-path="8-4-covariance-correlation.html"><a href="8-4-covariance-correlation.html"><i class="fa fa-check"></i><b>8.4</b> Covariance / Correlation</a><ul>
<li class="chapter" data-level="8.4.1" data-path="8-4-covariance-correlation.html"><a href="8-4-covariance-correlation.html#covariance"><i class="fa fa-check"></i><b>8.4.1</b> Covariance</a></li>
<li class="chapter" data-level="8.4.2" data-path="8-4-covariance-correlation.html"><a href="8-4-covariance-correlation.html#correlation"><i class="fa fa-check"></i><b>8.4.2</b> Correlation</a></li>
<li class="chapter" data-level="8.4.3" data-path="8-4-covariance-correlation.html"><a href="8-4-covariance-correlation.html#correlation-test-for-significance"><i class="fa fa-check"></i><b>8.4.3</b> Correlation Test for significance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-clustering-analysis.html"><a href="9-clustering-analysis.html"><i class="fa fa-check"></i><b>9</b> Clustering Analysis</a><ul>
<li class="chapter" data-level="9.1" data-path="9-1-library-7.html"><a href="9-1-library-7.html"><i class="fa fa-check"></i><b>9.1</b> Library</a></li>
<li class="chapter" data-level="9.2" data-path="9-2-application.html"><a href="9-2-application.html"><i class="fa fa-check"></i><b>9.2</b> Application</a></li>
<li class="chapter" data-level="9.3" data-path="9-3-sample-data-8.html"><a href="9-3-sample-data-8.html"><i class="fa fa-check"></i><b>9.3</b> Sample Data</a></li>
<li class="chapter" data-level="9.4" data-path="9-4-general-steps.html"><a href="9-4-general-steps.html"><i class="fa fa-check"></i><b>9.4</b> General Steps</a></li>
<li class="chapter" data-level="9.5" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html"><i class="fa fa-check"></i><b>9.5</b> Distance Algorithm</a><ul>
<li class="chapter" data-level="9.5.1" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#computation-overhead"><i class="fa fa-check"></i><b>9.5.1</b> Computation Overhead</a></li>
<li class="chapter" data-level="9.5.2" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#euclidean-distance"><i class="fa fa-check"></i><b>9.5.2</b> Euclidean Distance</a></li>
<li class="chapter" data-level="9.5.3" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#manhattan-distance"><i class="fa fa-check"></i><b>9.5.3</b> Manhattan Distance</a></li>
<li class="chapter" data-level="9.5.4" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#maximum-distance"><i class="fa fa-check"></i><b>9.5.4</b> Maximum Distance</a></li>
<li class="chapter" data-level="9.5.5" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#canberra-distance"><i class="fa fa-check"></i><b>9.5.5</b> Canberra Distance</a></li>
<li class="chapter" data-level="9.5.6" data-path="9-5-distance-algorithm.html"><a href="9-5-distance-algorithm.html#minkowski-distance"><i class="fa fa-check"></i><b>9.5.6</b> Minkowski Distance</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="9-6-optimum-number-of-clusters-k.html"><a href="9-6-optimum-number-of-clusters-k.html"><i class="fa fa-check"></i><b>9.6</b> Optimum Number of Clusters (K)</a><ul>
<li class="chapter" data-level="9.6.1" data-path="9-6-optimum-number-of-clusters-k.html"><a href="9-6-optimum-number-of-clusters-k.html#elbow-method"><i class="fa fa-check"></i><b>9.6.1</b> Elbow Method</a></li>
<li class="chapter" data-level="9.6.2" data-path="9-6-optimum-number-of-clusters-k.html"><a href="9-6-optimum-number-of-clusters-k.html#average-silhoutte-method"><i class="fa fa-check"></i><b>9.6.2</b> Average Silhoutte Method</a></li>
<li class="chapter" data-level="9.6.3" data-path="9-6-optimum-number-of-clusters-k.html"><a href="9-6-optimum-number-of-clusters-k.html#nbclust-package-with-30-indices"><i class="fa fa-check"></i><b>9.6.3</b> NbClust Package (with 30 Indices)</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="9-7-clustering-algorithm-compared.html"><a href="9-7-clustering-algorithm-compared.html"><i class="fa fa-check"></i><b>9.7</b> Clustering Algorithm Compared</a></li>
<li class="chapter" data-level="9.8" data-path="9-8-hierarchical-clustering.html"><a href="9-8-hierarchical-clustering.html"><i class="fa fa-check"></i><b>9.8</b> Hierarchical Clustering</a><ul>
<li class="chapter" data-level="9.8.1" data-path="9-8-hierarchical-clustering.html"><a href="9-8-hierarchical-clustering.html#clustering-algorithm"><i class="fa fa-check"></i><b>9.8.1</b> Clustering Algorithm</a></li>
<li class="chapter" data-level="9.8.2" data-path="9-8-hierarchical-clustering.html"><a href="9-8-hierarchical-clustering.html#inter-cluster-distance-method"><i class="fa fa-check"></i><b>9.8.2</b> Inter Cluster Distance Method</a></li>
<li class="chapter" data-level="9.8.3" data-path="9-8-hierarchical-clustering.html"><a href="9-8-hierarchical-clustering.html#run-the-code-2"><i class="fa fa-check"></i><b>9.8.3</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="9-9-k-mean-clustering.html"><a href="9-9-k-mean-clustering.html"><i class="fa fa-check"></i><b>9.9</b> K-Mean Clustering</a><ul>
<li class="chapter" data-level="9.9.1" data-path="9-9-k-mean-clustering.html"><a href="9-9-k-mean-clustering.html#clustering-algorithm-1"><i class="fa fa-check"></i><b>9.9.1</b> Clustering Algorithm</a></li>
<li class="chapter" data-level="9.9.2" data-path="9-9-k-mean-clustering.html"><a href="9-9-k-mean-clustering.html#run-code-calc-kmeans"><i class="fa fa-check"></i><b>9.9.2</b> Run Code: Calc KMeans</a></li>
<li class="chapter" data-level="9.9.3" data-path="9-9-k-mean-clustering.html"><a href="9-9-k-mean-clustering.html#run-code-build-model"><i class="fa fa-check"></i><b>9.9.3</b> Run Code: Build Model</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="9-10-cluster-agreement.html"><a href="9-10-cluster-agreement.html"><i class="fa fa-check"></i><b>9.10</b> Cluster Agreement</a><ul>
<li class="chapter" data-level="9.10.1" data-path="9-10-cluster-agreement.html"><a href="9-10-cluster-agreement.html#compare-clustering-results"><i class="fa fa-check"></i><b>9.10.1</b> Compare Clustering Results</a></li>
<li class="chapter" data-level="9.10.2" data-path="9-10-cluster-agreement.html"><a href="9-10-cluster-agreement.html#visualize-cluster-differences"><i class="fa fa-check"></i><b>9.10.2</b> Visualize Cluster Differences</a></li>
<li class="chapter" data-level="9.10.3" data-path="9-10-cluster-agreement.html"><a href="9-10-cluster-agreement.html#agreement-measurement"><i class="fa fa-check"></i><b>9.10.3</b> Agreement Measurement</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-regression-analysis.html"><a href="10-regression-analysis.html"><i class="fa fa-check"></i><b>10</b> Regression Analysis</a><ul>
<li class="chapter" data-level="10.1" data-path="10-1-introduction.html"><a href="10-1-introduction.html"><i class="fa fa-check"></i><b>10.1</b> Introduction</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-1-introduction.html"><a href="10-1-introduction.html#general-equation-and-terminilogy"><i class="fa fa-check"></i><b>10.1.1</b> General Equation and Terminilogy</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-1-introduction.html"><a href="10-1-introduction.html#r-formula-object"><i class="fa fa-check"></i><b>10.1.2</b> R Formula Object</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-2-application-1.html"><a href="10-2-application-1.html"><i class="fa fa-check"></i><b>10.2</b> Application</a></li>
<li class="chapter" data-level="10.3" data-path="10-3-types-of-regression.html"><a href="10-3-types-of-regression.html"><i class="fa fa-check"></i><b>10.3</b> Types of Regression</a><ul>
<li class="chapter" data-level="10.3.1" data-path="10-3-types-of-regression.html"><a href="10-3-types-of-regression.html#linear-and-non-lienar"><i class="fa fa-check"></i><b>10.3.1</b> Linear and Non Lienar</a></li>
<li class="chapter" data-level="10.3.2" data-path="10-3-types-of-regression.html"><a href="10-3-types-of-regression.html#choosing-the-regression-algorithm"><i class="fa fa-check"></i><b>10.3.2</b> Choosing the Regression Algorithm</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html"><i class="fa fa-check"></i><b>10.4</b> Linear Regression (OLS)</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#the-concept"><i class="fa fa-check"></i><b>10.4.1</b> The Concept</a></li>
<li class="chapter" data-level="10.4.2" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#assumptions"><i class="fa fa-check"></i><b>10.4.2</b> Assumptions</a></li>
<li class="chapter" data-level="10.4.3" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#equations"><i class="fa fa-check"></i><b>10.4.3</b> Equations</a></li>
<li class="chapter" data-level="10.4.4" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#ols-performance"><i class="fa fa-check"></i><b>10.4.4</b> OLS Performance</a></li>
<li class="chapter" data-level="10.4.5" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#feature-selection"><i class="fa fa-check"></i><b>10.4.5</b> Feature Selection</a></li>
<li class="chapter" data-level="10.4.6" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#sample-data-9"><i class="fa fa-check"></i><b>10.4.6</b> Sample Data</a></li>
<li class="chapter" data-level="10.4.7" data-path="10-4-linear-regression-ols.html"><a href="10-4-linear-regression-ols.html#run-the-code-3"><i class="fa fa-check"></i><b>10.4.7</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html"><i class="fa fa-check"></i><b>10.5</b> Regression Diagnostic</a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html#outlier-test"><i class="fa fa-check"></i><b>10.5.1</b> Outlier Test</a></li>
<li class="chapter" data-level="10.5.2" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html#linearity-test"><i class="fa fa-check"></i><b>10.5.2</b> Linearity Test</a></li>
<li class="chapter" data-level="10.5.3" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html#homoscedasticity-test"><i class="fa fa-check"></i><b>10.5.3</b> Homoscedasticity Test</a></li>
<li class="chapter" data-level="10.5.4" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html#multicollinearity-test"><i class="fa fa-check"></i><b>10.5.4</b> Multicollinearity Test</a></li>
<li class="chapter" data-level="10.5.5" data-path="10-5-regression-diagnostic.html"><a href="10-5-regression-diagnostic.html#normality-test"><i class="fa fa-check"></i><b>10.5.5</b> Normality Test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-classification.html"><a href="11-classification.html"><i class="fa fa-check"></i><b>11</b> Classification</a><ul>
<li class="chapter" data-level="11.1" data-path="11-1-introduction-1.html"><a href="11-1-introduction-1.html"><i class="fa fa-check"></i><b>11.1</b> Introduction</a><ul>
<li class="chapter" data-level="11.1.1" data-path="11-1-introduction-1.html"><a href="11-1-introduction-1.html#application-2"><i class="fa fa-check"></i><b>11.1.1</b> Application</a></li>
<li class="chapter" data-level="11.1.2" data-path="11-1-introduction-1.html"><a href="11-1-introduction-1.html#types-of-classification"><i class="fa fa-check"></i><b>11.1.2</b> Types of Classification</a></li>
<li class="chapter" data-level="11.1.3" data-path="11-1-introduction-1.html"><a href="11-1-introduction-1.html#comparing-algorithm"><i class="fa fa-check"></i><b>11.1.3</b> Comparing Algorithm</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="11-2-library-8.html"><a href="11-2-library-8.html"><i class="fa fa-check"></i><b>11.2</b> Library</a></li>
<li class="chapter" data-level="11.3" data-path="11-3-sample-dataset.html"><a href="11-3-sample-dataset.html"><i class="fa fa-check"></i><b>11.3</b> Sample Dataset</a><ul>
<li class="chapter" data-level="11.3.1" data-path="11-3-sample-dataset.html"><a href="11-3-sample-dataset.html#the-variables"><i class="fa fa-check"></i><b>11.3.1</b> The Variables</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-3-sample-dataset.html"><a href="11-3-sample-dataset.html#explore-the-data"><i class="fa fa-check"></i><b>11.3.2</b> Explore The Data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html"><i class="fa fa-check"></i><b>11.4</b> Logistic Regression</a><ul>
<li class="chapter" data-level="11.4.1" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html#the-concept-1"><i class="fa fa-check"></i><b>11.4.1</b> The Concept</a></li>
<li class="chapter" data-level="11.4.2" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html#assumptions-1"><i class="fa fa-check"></i><b>11.4.2</b> Assumptions</a></li>
<li class="chapter" data-level="11.4.3" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html#equations-1"><i class="fa fa-check"></i><b>11.4.3</b> Equations</a></li>
<li class="chapter" data-level="11.4.4" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html#high-school-formula"><i class="fa fa-check"></i><b>11.4.4</b> High School Formula</a></li>
<li class="chapter" data-level="11.4.5" data-path="11-4-logistic-regression.html"><a href="11-4-logistic-regression.html#run-the-code-4"><i class="fa fa-check"></i><b>11.4.5</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html"><i class="fa fa-check"></i><b>11.5</b> Decision Tree</a><ul>
<li class="chapter" data-level="11.5.1" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#the-concept-2"><i class="fa fa-check"></i><b>11.5.1</b> The Concept</a></li>
<li class="chapter" data-level="11.5.2" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#tree-building"><i class="fa fa-check"></i><b>11.5.2</b> Tree Building</a></li>
<li class="chapter" data-level="11.5.3" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#splitting-criteria"><i class="fa fa-check"></i><b>11.5.3</b> Splitting Criteria</a></li>
<li class="chapter" data-level="11.5.4" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#pruning-tree"><i class="fa fa-check"></i><b>11.5.4</b> Pruning Tree</a></li>
<li class="chapter" data-level="11.5.5" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#tree-selection"><i class="fa fa-check"></i><b>11.5.5</b> Tree Selection</a></li>
<li class="chapter" data-level="11.5.6" data-path="11-5-decision-tree.html"><a href="11-5-decision-tree.html#run-the-code-5"><i class="fa fa-check"></i><b>11.5.6</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="11-6-conditional-inference-tree.html"><a href="11-6-conditional-inference-tree.html"><i class="fa fa-check"></i><b>11.6</b> Conditional Inference Tree</a></li>
<li class="chapter" data-level="11.7" data-path="11-7-random-forest.html"><a href="11-7-random-forest.html"><i class="fa fa-check"></i><b>11.7</b> Random Forest</a><ul>
<li class="chapter" data-level="11.7.1" data-path="11-7-random-forest.html"><a href="11-7-random-forest.html#the-concept-3"><i class="fa fa-check"></i><b>11.7.1</b> The Concept</a></li>
<li class="chapter" data-level="11.7.2" data-path="11-7-random-forest.html"><a href="11-7-random-forest.html#run-the-code-6"><i class="fa fa-check"></i><b>11.7.2</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="11-8-svm.html"><a href="11-8-svm.html"><i class="fa fa-check"></i><b>11.8</b> SVM</a><ul>
<li class="chapter" data-level="11.8.1" data-path="11-8-svm.html"><a href="11-8-svm.html#run-the-code-7"><i class="fa fa-check"></i><b>11.8.1</b> Run The Code</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="11-9-performance-measurement.html"><a href="11-9-performance-measurement.html"><i class="fa fa-check"></i><b>11.9</b> Performance Measurement</a><ul>
<li class="chapter" data-level="11.9.1" data-path="11-9-performance-measurement.html"><a href="11-9-performance-measurement.html#confusion-matrix"><i class="fa fa-check"></i><b>11.9.1</b> Confusion Matrix</a></li>
<li class="chapter" data-level="11.9.2" data-path="11-9-performance-measurement.html"><a href="11-9-performance-measurement.html#performance-related-to-logistic-regression"><i class="fa fa-check"></i><b>11.9.2</b> Performance related to Logistic Regression</a></li>
<li class="chapter" data-level="11.9.3" data-path="11-9-performance-measurement.html"><a href="11-9-performance-measurement.html#model-evaluation"><i class="fa fa-check"></i><b>11.9.3</b> Model Evaluation</a></li>
<li class="chapter" data-level="11.9.4" data-path="11-9-performance-measurement.html"><a href="11-9-performance-measurement.html#run-the-code-8"><i class="fa fa-check"></i><b>11.9.4</b> Run The Code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-survival-analysis.html"><a href="12-survival-analysis.html"><i class="fa fa-check"></i><b>12</b> Survival Analysis</a><ul>
<li class="chapter" data-level="12.1" data-path="12-1-library-9.html"><a href="12-1-library-9.html"><i class="fa fa-check"></i><b>12.1</b> Library</a></li>
<li class="chapter" data-level="12.2" data-path="12-2-sample-data-10.html"><a href="12-2-sample-data-10.html"><i class="fa fa-check"></i><b>12.2</b> Sample Data</a></li>
<li class="chapter" data-level="12.3" data-path="12-3-the-code.html"><a href="12-3-the-code.html"><i class="fa fa-check"></i><b>12.3</b> The Code</a></li>
<li class="chapter" data-level="12.4" data-path="12-4-performance-evaluation.html"><a href="12-4-performance-evaluation.html"><i class="fa fa-check"></i><b>12.4</b> Performance Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-text-analysis.html"><a href="13-text-analysis.html"><i class="fa fa-check"></i><b>13</b> Text Analysis</a><ul>
<li class="chapter" data-level="13.1" data-path="13-1-library-10.html"><a href="13-1-library-10.html"><i class="fa fa-check"></i><b>13.1</b> Library</a></li>
<li class="chapter" data-level="13.2" data-path="13-2-concept.html"><a href="13-2-concept.html"><i class="fa fa-check"></i><b>13.2</b> Concept</a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-2-concept.html"><a href="13-2-concept.html#bag-of-words"><i class="fa fa-check"></i><b>13.2.1</b> Bag Of Words</a></li>
<li class="chapter" data-level="13.2.2" data-path="13-2-concept.html"><a href="13-2-concept.html#text-pre-processing"><i class="fa fa-check"></i><b>13.2.2</b> Text Pre-Processing</a></li>
<li class="chapter" data-level="13.2.3" data-path="13-2-concept.html"><a href="13-2-concept.html#text-analytic-process"><i class="fa fa-check"></i><b>13.2.3</b> Text Analytic Process</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-3-sample-data-11.html"><a href="13-3-sample-data-11.html"><i class="fa fa-check"></i><b>13.3</b> Sample Data</a></li>
<li class="chapter" data-level="13.4" data-path="13-4-run-the-code-9.html"><a href="13-4-run-the-code-9.html"><i class="fa fa-check"></i><b>13.4</b> Run The Code</a><ul>
<li class="chapter" data-level="13.4.1" data-path="13-4-run-the-code-9.html"><a href="13-4-run-the-code-9.html#convert-text-to-corpus"><i class="fa fa-check"></i><b>13.4.1</b> Convert Text To Corpus</a></li>
<li class="chapter" data-level="13.4.2" data-path="13-4-run-the-code-9.html"><a href="13-4-run-the-code-9.html#preprocess-corpus"><i class="fa fa-check"></i><b>13.4.2</b> Preprocess Corpus</a></li>
<li class="chapter" data-level="13.4.3" data-path="13-4-run-the-code-9.html"><a href="13-4-run-the-code-9.html#extract-bag-of-words"><i class="fa fa-check"></i><b>13.4.3</b> Extract Bag Of Words</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-model-optimization.html"><a href="14-model-optimization.html"><i class="fa fa-check"></i><b>14</b> Model Optimization</a><ul>
<li class="chapter" data-level="14.1" data-path="14-1-occams-razor.html"><a href="14-1-occams-razor.html"><i class="fa fa-check"></i><b>14.1</b> Occams Razor</a></li>
<li class="chapter" data-level="14.2" data-path="14-2-feature-selection-1.html"><a href="14-2-feature-selection-1.html"><i class="fa fa-check"></i><b>14.2</b> Feature Selection</a></li>
<li class="chapter" data-level="14.3" data-path="14-3-dimension-reduction.html"><a href="14-3-dimension-reduction.html"><i class="fa fa-check"></i><b>14.3</b> Dimension Reduction</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Business and Technical Analytics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="performance-measurement" class="section level2">
<h2><span class="header-section-number">11.9</span> Performance Measurement</h2>
<p>There are many performance measurement used for binary classification. Here are the rules of thumb which one to use:</p>
<ul>
<li><strong>Recall</strong>: If you dont mind getting some inaccurate result, as long as you get as much correct ones</li>
<li><strong>Precision</strong>: If you demand rate of correctness and willing to reject some correct results<br />
</li>
<li><strong>F1 Score</strong>: For a more balanced measurement, taking into consideraton both recall and precision</li>
</ul>
<div id="confusion-matrix" class="section level3">
<h3><span class="header-section-number">11.9.1</span> Confusion Matrix</h3>
<div class="figure">
<img src="images/confusion_table.jpg" alt="Confusion Matrix and Performance Measurement" />
<p class="caption">Confusion Matrix and Performance Measurement</p>
</div>
<div id="accuracy" class="section level4">
<h4><span class="header-section-number">11.9.1.1</span> Accuracy</h4>
<ul>
<li>Accuracy answers the question: <strong>From the total samples, how many had been correctly predicted by the model ?</strong><br />
</li>
<li><span class="math inline">\(Accuracy = \frac{TP+TN}{TP+TN+FP+FN}\)</span></li>
<li>This measurement is useful when the both <strong>classes are balanced</strong> (that is, the number of TP and TN cases are almost balanced)<br />
</li>
<li>In practice, it seems that the best accuracy is usually achieved when the cutpoint is <strong>near the Probability(actual TRUE)</strong><br />
</li>
<li>Accuracy is completely usessless in highly skewed class. For example, with a disease that only affects 1 in a million people a completely bogus screening test that always reports negative will be 99.9999% accurate</li>
</ul>
</div>
<div id="recall" class="section level4">
<h4><span class="header-section-number">11.9.1.2</span> Recall</h4>
<ul>
<li>Recall answers the question: <strong>Out of all actual positive samples, how many were correctly predicted by classifiers ?</strong><br />
</li>
<li><span class="math inline">\(Recall = \frac{TP}{TP+FN}\)</span></li>
</ul>
</div>
<div id="precision" class="section level4">
<h4><span class="header-section-number">11.9.1.3</span> Precision</h4>
<ul>
<li>Precison answers the question: <strong>Out of all the samples classifier predicted as positive, what fraction were correct ?</strong><br />
</li>
<li><span class="math inline">\(Precision = \frac{TP}{TP+FP}\)</span></li>
</ul>
</div>
<div id="f1-score" class="section level4">
<h4><span class="header-section-number">11.9.1.4</span> F1 Score</h4>
<ul>
<li>F1 score is the <strong>harmonic mean of Precision and Recall</strong>. Intuitively, F1 Score is the <strong>weighted average of Precision and Recall</strong>. It takes into account all three measures: TP, FP and FN<br />
</li>
<li><span class="math inline">\(Precision = 2*\frac{Recall * Precision}{Recall + Precision}\)</span><br />
</li>
<li>F1 is usually more useful than accuracy, especially if you have an unbalanced class distribution</li>
</ul>
</div>
</div>
<div id="performance-related-to-logistic-regression" class="section level3">
<h3><span class="header-section-number">11.9.2</span> Performance related to Logistic Regression</h3>
<div id="area-under-roc-auroc" class="section level4">
<h4><span class="header-section-number">11.9.2.1</span> Area Under ROC (AUROC)</h4>
<ul>
<li>ROC curve is basically a graph of <strong>TPR vs FPR</strong> (some refer to as Recall vs (1-Sensitivity), plotted for <strong>different thresholds</strong><br />
</li>
<li>Comparing two different models, the model with <strong>higher AUROC is considered to have higher overall Accuracy</strong><br />
</li>
<li>AUROC (Area Under ROC) measures :
<ul>
<li>AUC of <strong>0.5</strong>: means the model is as good as tossing a coin, worthless<br />
</li>
<li>AUC of <strong>1.0</strong>: means for all cutoff points, TPR=1 and FPR=0. Intuitively it means, all samples had been correctly classified into TP (TPR=1) and TN(FPR=0), and there is no FP and FN. Ultiamtely it means Accuracy is 100%</li>
</ul></li>
</ul>
<div class="figure">
<img src="images/roc_curve.gif" alt="AUROC and Thresholds" />
<p class="caption">AUROC and Thresholds</p>
</div>
</div>
<div id="cutoff-threshold-impact" class="section level4">
<h4><span class="header-section-number">11.9.2.2</span> Cutoff Threshold Impact</h4>
<p>Cutoff threshold <strong>direclty influence</strong> the value of TP, FP, TN, FN.<br />
If <strong>cutoff threshold is lowered</strong> (lower probability to classify as Postive), the results are:</p>
<ul>
<li><strong>More linient</strong> and hence <strong>more samples will be classified as Positive</strong><br />
</li>
<li>More predicted Positives means more TP and FP, hence <strong>TPR and FPR increases</strong><br />
</li>
<li>However, <strong>TPR and FPR increases at different rate</strong>:
<ul>
<li>If TPR increases faster than FPR -&gt; this is <strong>good</strong>, as the lowered threshold generated more TP than FP<br />
</li>
<li>If FPR increases faster then TPR -&gt; this is <strong>not good</strong>, as the lowered threhsold generated more FP than TP<br />
</li>
</ul></li>
<li>The cutoff with highest TPR/FPR value is the optimal means optimum point whereby It is possible to discover the optimum cutoff by finding the cutoff with highest TPR/FPR</li>
</ul>
<p>Different threshold produces different performance metrics (Accuracy, Recall, Precision and Specificity and F1-score). As an example, picture below shows how threshold influences the ROC curve.</p>
<div class="figure">
<img src="images/roc_threshold_demo.gif" alt="Threshold and ROC" />
<p class="caption">Threshold and ROC</p>
</div>
<p>The only way to estimate the <strong>optimum threshold</strong> for each of the performance measurement will be to measure them for a <strong>wide range of threshold</strong>.</p>
</div>
<div id="cutoff-visualization" class="section level4">
<h4><span class="header-section-number">11.9.2.3</span> Cutoff Visualization</h4>
<p>Selecting a cutoff threshold depends on the objectives of the researcher. To help understanding the how cutoff changes the performance metircs, try <strong>visualize</strong> them in below graph:</p>
<p>1.Threshold vs Accuracy<br />
2.Threshold vs Recall (TPR)<br />
3.Threshold vs TPR/FPR<br />
4.Threshold vs Precision<br />
5.Threshold vs F1 Score<br />
6.ROC Curve (TPR vs FPR)</p>
</div>
</div>
<div id="model-evaluation" class="section level3">
<h3><span class="header-section-number">11.9.3</span> Model Evaluation</h3>
<div id="compare-with-baseline" class="section level4">
<h4><span class="header-section-number">11.9.3.1</span> Compare With Baseline</h4>
<p>In an highly unbalanced dataset (eg. patients that is diagnosed with cancer skewed towards negative). Hence, it is essential to make a <strong>lazy baseline comparison</strong> with simply classifying every records with negative (cutoff at 1) or positive (cutoff at 0).</p>
<p>Put in mind of the dataset used for comparison:</p>
<ul>
<li>Use data from training set as model baseline, when concerning training performance<br />
</li>
<li>Use dta from test set as model baseline, when concerning test performance</li>
</ul>
<p><strong>Model Accuracy is not better than lazy baseline !</strong></p>
<ul>
<li>In highly bias class, in term of accuracy, the model usually unable to outperform the baseline by good marign<br />
</li>
<li>Hence <strong>accuracy</strong> is not a good measurement in such case<br />
</li>
<li>Model is still useful if the research objective is towards other measurement usch as <strong>recall, precision</strong><br />
</li>
<li>Adjust the threshold to achieve optimum better objectives</li>
</ul>
</div>
<div id="combination-of-variables" class="section level4">
<h4><span class="header-section-number">11.9.3.2</span> Combination of Variables</h4>
<p>Model AIC to measure the usefullness. It is like R-square in linear regression. Use it to compare model with different combinations of variables.</p>
<p>Since logistic regression is a actual <strong>linear regression of ln(odds)</strong>, <strong>multicolinearity</strong> rule apply.</p>
</div>
</div>
<div id="run-the-code-8" class="section level3">
<h3><span class="header-section-number">11.9.4</span> Run The Code</h3>
<div id="general-function" class="section level4">
<h4><span class="header-section-number">11.9.4.1</span> General Function</h4>
<p>This is a custom general function to evaluate all key metrics for Classification.</p>
<blockquote>
<p><strong><code>eval.bincalss ( score=NULL, label=NULL, cutoff=NULL)</code></strong><br />
<code>score: predicted value, either probability or binary</code><br />
<code>label: actual value</code><br />
<code>cutoff:  threshold (0-1) if score is probability</code></p>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">eval.binclass =<span class="st"> </span><span class="cf">function</span>(<span class="dt">score =</span> <span class="ot">NULL</span>, <span class="dt">label =</span> <span class="ot">NULL</span>, <span class="dt">cutoff =</span> <span class="ot">NA</span>) {
    actual =<span class="st"> </span><span class="kw">factor</span>(<span class="kw">as.logical</span>(<span class="kw">as.integer</span>(<span class="kw">as.character</span>(label))), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>))
    <span class="cf">if</span> (<span class="kw">is.na</span>(cutoff))
        predicted =<span class="st"> </span><span class="kw">factor</span>(<span class="kw">as.logical</span>(<span class="kw">as.integer</span>(<span class="kw">as.character</span>(score))), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)) <span class="co"># binary</span>
    <span class="cf">else</span>
        predicted =<span class="st"> </span><span class="kw">factor</span>(<span class="kw">as.logical</span>(score <span class="op">&gt;</span><span class="st"> </span>cutoff), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)) <span class="co"># regression</span>
    ct =<span class="st"> </span><span class="kw">table</span>(actual, predicted, <span class="dt">useNA =</span> <span class="st">&#39;no&#39;</span>, <span class="dt">exclude =</span> <span class="kw">c</span>(<span class="ot">NA</span>)) <span class="co">#confusion table</span>
    tp =<span class="st"> </span>ct[<span class="dv">1</span>]
    fp =<span class="st"> </span>ct[<span class="dv">2</span>]
    fn =<span class="st"> </span>ct[<span class="dv">3</span>]
    tn =<span class="st"> </span>ct[<span class="dv">4</span>]
    accuracy =<span class="st"> </span>(ct[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>ct[<span class="dv">4</span>]) <span class="op">/</span><span class="st"> </span>(<span class="kw">sum</span>(ct))
    recall =<span class="st"> </span>ct[<span class="dv">1</span>] <span class="op">/</span><span class="st"> </span>(ct[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>ct[<span class="dv">3</span>])
    precision =<span class="st"> </span>ct[<span class="dv">1</span>] <span class="op">/</span><span class="st"> </span>(ct[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>ct[<span class="dv">2</span>])
    fpr =<span class="st"> </span>ct[<span class="dv">2</span>] <span class="op">/</span><span class="st"> </span>(ct[<span class="dv">2</span>] <span class="op">+</span><span class="st"> </span>ct[<span class="dv">4</span>])
    specificity =<span class="st"> </span>ct[<span class="dv">4</span>] <span class="op">/</span><span class="st"> </span>(ct[<span class="dv">2</span>] <span class="op">+</span><span class="st"> </span>ct[<span class="dv">4</span>])
    tpr_fpr =<span class="st"> </span>recall <span class="op">/</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span>specificity)
    fscore =<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(precision <span class="op">*</span><span class="st"> </span>recall <span class="op">/</span><span class="st"> </span>(precision <span class="op">+</span><span class="st"> </span>recall))
    <span class="kw">data.frame</span>(<span class="dt">cutoff =</span> cutoff, <span class="dt">accuracy =</span> accuracy, <span class="dt">recall =</span> recall, <span class="dt">precision =</span> precision,
             <span class="dt">specificity =</span> specificity, <span class="dt">fscore =</span> fscore, <span class="dt">fpr =</span> fpr, <span class="dt">tpr_fpr =</span> tpr_fpr,
             <span class="dt">tp =</span> tp, <span class="dt">fp =</span> fp, <span class="dt">fn =</span> fn, <span class="dt">tn =</span> tn)
}</code></pre></div>
</div>
<div id="rocrconstruct-the-performance-metric" class="section level4">
<h4><span class="header-section-number">11.9.4.2</span> ROCR::Construct the Performance Metric</h4>
<p><code>ROCR::prediction</code>is the main function to crate prediction object that contains key data such as thresholds, TP, FP, TN, FP. With these data points, we can plot and calculate multiple performacne and visualization.</p>
<p>It takes only two inputs:<br />
1. <strong>Score</strong> (probability of being POSITIVE)<br />
2. <strong>Label</strong> (actual POSITVE)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rocr.pred =<span class="st"> </span><span class="kw">prediction</span>(pred.logit.test, test<span class="op">$</span>left)

rocr.metrics =<span class="st"> </span><span class="kw">data.frame</span>(
    <span class="dt">cutoff   =</span> rocr.pred<span class="op">@</span>cutoffs[[<span class="dv">1</span>]],
    <span class="dt">accuracy =</span> (rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>tn[[<span class="dv">1</span>]]) <span class="op">/</span><span class="st"> </span>(rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>tn[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>fp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>fn[[<span class="dv">1</span>]]),
    <span class="dt">tpr =</span> rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">/</span><span class="st"> </span>(rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>fn[[<span class="dv">1</span>]]),
    <span class="dt">fpr =</span> rocr.pred<span class="op">@</span>fp[[<span class="dv">1</span>]] <span class="op">/</span><span class="st"> </span>(rocr.pred<span class="op">@</span>fp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>tn[[<span class="dv">1</span>]]),
    <span class="dt">ppv =</span> rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">/</span><span class="st"> </span>(rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]] <span class="op">+</span><span class="st"> </span>rocr.pred<span class="op">@</span>fp[[<span class="dv">1</span>]])
    )
rocr.metrics<span class="op">$</span>fscore =<span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(rocr.metrics<span class="op">$</span>tpr <span class="op">*</span><span class="st"> </span>rocr.metrics<span class="op">$</span>ppv) <span class="op">/</span><span class="st"> </span>(rocr.metrics<span class="op">$</span>tpr <span class="op">+</span><span class="st"> </span>rocr.metrics<span class="op">$</span>ppv)
rocr.metrics<span class="op">$</span>tpr_fpr =<span class="st"> </span>rocr.metrics<span class="op">$</span>tpr <span class="op">/</span><span class="st"> </span>rocr.metrics<span class="op">$</span>fpr</code></pre></div>
</div>
<div id="rocrlist-the-performance-table" class="section level4">
<h4><span class="header-section-number">11.9.4.3</span> ROCR::List The Performance Table</h4>
<p>The code below discover the <strong>optimum threshold</strong> for few metrices. Threhold for the highest estiamtes is summarized.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## discovery the optimal threshold for various metrics
rocr.best =<span class="st"> </span><span class="kw">rbind</span>(
  <span class="dt">best.accuracy =</span> <span class="kw">c</span>(<span class="dt">max =</span> <span class="kw">max</span>(rocr.metrics<span class="op">$</span>accuracy, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">cutoff =</span> rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>accuracy)]),
  <span class="dt">best.ppv =</span> <span class="kw">c</span>(<span class="dt">max =</span> <span class="kw">max</span>(rocr.metrics<span class="op">$</span>ppv, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">cutoff =</span> rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>ppv)]),
  <span class="dt">best.recall =</span> <span class="kw">c</span>(<span class="dt">max =</span> <span class="kw">max</span>(rocr.metrics<span class="op">$</span>tpr, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">cutoff =</span> rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>tpr)]),
  <span class="dt">best.fscore =</span> <span class="kw">c</span>(<span class="dt">max =</span> <span class="kw">max</span>(rocr.metrics<span class="op">$</span>fscore, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">cutoff =</span> rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>fscore)]),
  <span class="dt">best.tpr_fpr =</span> <span class="kw">c</span>(<span class="dt">max =</span> <span class="kw">max</span>(rocr.metrics<span class="op">$</span>tpr_fpr, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">cutoff =</span> rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>tpr_fpr)])
)

<span class="kw">kable</span>(rocr.best)</code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">max</th>
<th align="right">cutoff</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>best.accuracy</td>
<td align="right">0.8383333</td>
<td align="right">0.2564513</td>
</tr>
<tr class="even">
<td>best.ppv</td>
<td align="right">0.5214797</td>
<td align="right">0.2564513</td>
</tr>
<tr class="odd">
<td>best.recall</td>
<td align="right">1.0000000</td>
<td align="right">0.0073737</td>
</tr>
<tr class="even">
<td>best.fscore</td>
<td align="right">0.6031102</td>
<td align="right">0.2490565</td>
</tr>
<tr class="odd">
<td>best.tpr_fpr</td>
<td align="right">5.2584316</td>
<td align="right">0.2564513</td>
</tr>
</tbody>
</table>
</div>
<div id="rocrvisualize-the-data-and-performance" class="section level4">
<h4><span class="header-section-number">11.9.4.4</span> ROCR::Visualize The Data and Performance</h4>
<p><strong>Plot TP, Tn, FP and FN</strong><br />
These data are available in the <code>ROCR::prediction</code> object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span> (rocr.pred<span class="op">@</span>cutoffs[[<span class="dv">1</span>]], rocr.pred<span class="op">@</span>tp[[<span class="dv">1</span>]],<span class="dt">xlim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">12000</span>), <span class="dt">col=</span><span class="st">&#39;green&#39;</span>)
<span class="kw">lines</span>(rocr.pred<span class="op">@</span>cutoffs[[<span class="dv">1</span>]], rocr.pred<span class="op">@</span>tn[[<span class="dv">1</span>]], <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">12000</span>),<span class="dt">col=</span><span class="st">&#39;red&#39;</span>)
<span class="kw">lines</span>(rocr.pred<span class="op">@</span>cutoffs[[<span class="dv">1</span>]], rocr.pred<span class="op">@</span>fp[[<span class="dv">1</span>]], <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">12000</span>), <span class="dt">col=</span><span class="st">&#39;blue&#39;</span>)
<span class="kw">lines</span>(rocr.pred<span class="op">@</span>cutoffs[[<span class="dv">1</span>]], rocr.pred<span class="op">@</span>fn[[<span class="dv">1</span>]], <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">12000</span>),<span class="dt">col=</span><span class="st">&#39;orange&#39;</span>)
<span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>,
       <span class="dt">inset =</span> .<span class="dv">05</span>, <span class="dt">cex =</span> <span class="dv">1</span>, <span class="dt">title =</span> <span class="st">&quot;Legend&quot;</span>,
       <span class="kw">c</span>(<span class="st">&quot;TP&quot;</span>, <span class="st">&quot;TN&quot;</span>, <span class="st">&quot;FP&quot;</span>,<span class="st">&quot;FN&quot;</span>), <span class="dt">horiz =</span> <span class="ot">TRUE</span>,
       <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">lwd =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),
       <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>,<span class="st">&#39;orange&#39;</span>), <span class="dt">bg =</span> <span class="st">&quot;grey96&quot;</span>)</code></pre></div>
<p><img src="biz_tech_analytics_r_files/figure-html/unnamed-chunk-315-1.png" width="864" /></p>
<p><strong>Plot ROC Curve</strong><br />
We can build a <strong><code>ROCR::performance</code> object, and plot it</strong> !<br />
AUC is calculated with <code>ROCR::performance</code> as well.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rocr.perf =<span class="st"> </span><span class="kw">performance</span>(rocr.pred, <span class="dt">measure =</span> <span class="st">&quot;tpr&quot;</span>, <span class="dt">x.measure =</span> <span class="st">&quot;fpr&quot;</span>)
rocr.auc =<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">performance</span>(rocr.pred, <span class="st">&quot;auc&quot;</span>)<span class="op">@</span>y.values)
<span class="kw">plot</span>(rocr.perf,
    <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">colorize =</span> <span class="ot">TRUE</span>,
    <span class="dt">print.cutoffs.at =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.1</span>),
    <span class="dt">text.adj =</span> <span class="kw">c</span>(<span class="op">-</span><span class="fl">0.2</span>, <span class="fl">1.7</span>),
    <span class="dt">main =</span> <span class="st">&#39;ROC Curve&#39;</span>)
<span class="kw">mtext</span>(<span class="kw">paste</span>(<span class="st">&#39;auc : &#39;</span>, <span class="kw">round</span>(rocr.auc, <span class="dv">5</span>)))
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</code></pre></div>
<p><img src="biz_tech_analytics_r_files/figure-html/unnamed-chunk-316-1.png" width="864" /></p>
<p><strong>Plot Accuracy</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rocr.perf =<span class="st"> </span><span class="kw">performance</span>(rocr.pred, <span class="dt">measure =</span> <span class="st">&quot;acc&quot;</span>)
best.x =<span class="st"> </span>rocr.perf<span class="op">@</span>x.values[[<span class="dv">1</span>]][<span class="kw">which.max</span>(rocr.perf<span class="op">@</span>y.values[[<span class="dv">1</span>]])]
best.y =<span class="st"> </span><span class="kw">max</span>(rocr.perf<span class="op">@</span>y.values[[<span class="dv">1</span>]])
<span class="kw">plot</span>(rocr.perf, <span class="dt">main =</span> <span class="st">&#39;Accuracy vs Cutoff&#39;</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">abline</span>(<span class="dt">v =</span> best.x, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">abline</span>(<span class="dt">h =</span> best.y, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">text</span>(best.x <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>, <span class="fl">0.05</span>, <span class="kw">round</span>(best.x, <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="kw">text</span>(<span class="fl">0.05</span>, best.y <span class="op">+</span><span class="st"> </span><span class="fl">0.05</span>, <span class="kw">round</span>(best.y, <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="biz_tech_analytics_r_files/figure-html/unnamed-chunk-317-1.png" width="864" /></p>
<p><strong>Plot Precesion</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rocr.perf =<span class="st"> </span><span class="kw">performance</span>(rocr.pred, <span class="dt">measure =</span> <span class="st">&quot;prec&quot;</span>)
best.x =<span class="st"> </span>rocr.perf<span class="op">@</span>x.values[[<span class="dv">1</span>]][<span class="kw">which.max</span>(rocr.perf<span class="op">@</span>y.values[[<span class="dv">1</span>]])]
best.y =<span class="st"> </span><span class="kw">max</span>(rocr.perf<span class="op">@</span>y.values[[<span class="dv">1</span>]][<span class="kw">is.finite</span>(rocr.perf<span class="op">@</span>y.values[[<span class="dv">1</span>]])])
<span class="kw">plot</span>(rocr.perf, <span class="dt">main =</span> <span class="st">&#39;Precision vs Cutoff&#39;</span>, <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">abline</span>(<span class="dt">v =</span> best.x, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">abline</span>(<span class="dt">h =</span> best.y, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">text</span>(best.x <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>, <span class="fl">0.05</span>, <span class="kw">round</span>(best.x, <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)
<span class="kw">text</span>(<span class="fl">0.05</span>, best.y <span class="op">+</span><span class="st"> </span><span class="fl">0.05</span>, <span class="kw">round</span>(best.y, <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><img src="biz_tech_analytics_r_files/figure-html/unnamed-chunk-318-1.png" width="864" /></p>
<p><strong>Plot Multiple Metrices Into One Graph</strong><br />
As we can see, <code>ROCR::performance</code> is good to build measure and plot for single y-axis measurement. It unfortunately <strong>does not support</strong> plotting multiple y-axis into one graph. Threfore, we shall build the plot using metrices table constructed earlier (variable <code>rocr.metrics</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">### set initial margin of the plot
<span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">6</span>))

## plot graph on left hand side scale
<span class="kw">plot</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>tpr, <span class="dt">axes =</span> <span class="ot">FALSE</span>,, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">col =</span> <span class="st">&#39;green&#39;</span>, <span class="dt">main =</span> <span class="st">&#39;Multiple Performances vs Cutoff&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">lines</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>fpr, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">axis</span>(<span class="dv">1</span>, <span class="kw">pretty</span>(<span class="kw">range</span>(rocr.metrics<span class="op">$</span>cutoff[<span class="kw">is.finite</span>(rocr.metrics<span class="op">$</span>cutoff)]), <span class="dv">10</span>))
<span class="kw">axis</span>(<span class="dv">2</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">las =</span> <span class="dv">1</span>) ## las=1 makes horizontal labels
<span class="kw">lines</span>(rocr.metrics<span class="op">$</span>fpr, rocr.metrics<span class="op">$</span>tpr, <span class="dt">lwd =</span> <span class="dv">3</span>, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">lines</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>accuracy, <span class="dt">col =</span> <span class="st">&#39;purple&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">lines</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>ppv, <span class="dt">col =</span> <span class="st">&#39;cyan&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">lines</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>fscore, <span class="dt">col =</span> <span class="st">&#39;pink&#39;</span>, <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))
<span class="kw">abline</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>)

## plot graph on right hand side scale
<span class="kw">par</span>(<span class="dt">new =</span> <span class="ot">TRUE</span>)
<span class="kw">plot</span>(rocr.metrics<span class="op">$</span>cutoff, rocr.metrics<span class="op">$</span>tpr_fpr, <span class="dt">axes =</span> <span class="ot">FALSE</span>, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">col =</span> <span class="st">&#39;orange&#39;</span>)
<span class="kw">axis</span>(<span class="dv">4</span>, <span class="dt">col =</span> <span class="st">&quot;orange&quot;</span>, <span class="dt">las =</span> <span class="dv">1</span>) ## las=1 makes horizontal labels
best =<span class="st"> </span>rocr.metrics<span class="op">$</span>cutoff[<span class="kw">which.max</span>(rocr.metrics<span class="op">$</span>tpr_fpr[<span class="kw">is.finite</span>(rocr.metrics<span class="op">$</span>tpr_fpr)])]
<span class="kw">abline</span>(<span class="dt">v =</span> best, <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>, <span class="dt">lty =</span> <span class="dv">2</span>)
<span class="kw">text</span>(best <span class="op">+</span><span class="st"> </span><span class="fl">0.075</span>, <span class="fl">0.05</span>, <span class="kw">round</span>(best, <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)

## axis labels
<span class="kw">mtext</span>(<span class="st">&quot;cutoff&quot;</span>, <span class="dt">side =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">line =</span> <span class="fl">2.5</span>)
<span class="kw">mtext</span>(<span class="st">&quot;tpr, fpr, accuracy, precision, f1-scaore&quot;</span>, <span class="dt">side =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">line =</span> <span class="fl">2.5</span>)
<span class="kw">mtext</span>(<span class="st">&quot;tpr/fpr&quot;</span>, <span class="dt">side =</span> <span class="dv">4</span>, <span class="dt">col =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">line =</span> <span class="fl">2.5</span>)

## legend
<span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>,
       <span class="dt">inset =</span> .<span class="dv">05</span>, <span class="dt">cex =</span> <span class="dv">1</span>, <span class="dt">title =</span> <span class="st">&quot;Legend&quot;</span>,
       <span class="kw">c</span>(<span class="st">&quot;TPR&quot;</span>, <span class="st">&quot;FPR&quot;</span>, <span class="st">&quot;TPR/FPR&quot;</span>, <span class="st">&quot;ROC&quot;</span>, <span class="st">&quot;Accuracy&quot;</span>, <span class="st">&quot;Precision&quot;</span>, <span class="st">&quot;F1-Score&quot;</span>),
       <span class="dt">horiz =</span> <span class="ot">FALSE</span>, <span class="dt">lty =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">lwd =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>),
       <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;orange&quot;</span>, <span class="st">&#39;black&#39;</span>, <span class="st">&#39;purple&#39;</span>, <span class="st">&#39;cyan&#39;</span>, <span class="st">&#39;pink&#39;</span>), <span class="dt">bg =</span> <span class="st">&quot;grey96&quot;</span>)</code></pre></div>
<p><img src="biz_tech_analytics_r_files/figure-html/unnamed-chunk-319-1.png" width="864" /></p>

</div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="11-8-svm.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="12-survival-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yongks/biz_tech_analytics_r/edit/master/11-classification.Rmd",
"text": "Edit"
},
"download": ["biz_tech_analytics_r.pdf", "biz_tech_analytics_r.epub", "biz_tech_analytics_r.mobi"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
